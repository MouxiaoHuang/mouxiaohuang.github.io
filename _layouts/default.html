<!DOCTYPE html>
<html>
  <head>
    <title>{% if page.title %}{{ page.title }} ‚Äì {% endif %}{{ site.name }} ‚Äì {{ site.description }}</title>

    {% include meta.html %}

    <script>
      (function () {
        try {
          var t = localStorage.getItem("theme"); // "light" | "dark" | null
          if (t === "light" || t === "dark") {
            document.documentElement.setAttribute("data-theme", t);
          }
        } catch (e) {}
      })();
    </script>

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />
    <link rel="shortcut icon" type="image/x-icon" sizes="16x16" href="../favicon.ico"/>

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
    <meta name="google-site-verification" content="eOXraHsZvRFewg0qZd9amM9JatmqkayB53MdHVzCx0E" />
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">

        <header class="masthead clearfix">
          <!-- <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.avatar }}" /></a> -->

          <!-- <nav>

           <a href="{{ site.baseurl }}/">Blog</a>
            <a href="{{ site.baseurl }}/about">About</a>

          </nav> -->


          <div class="site-info">
            <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
            <p class="site-description">{{ site.description }}</p>
          </div>


          <nav>
            <a href="{{ site.baseurl }}/#Education">Education</a>
            <a href="{{ site.baseurl }}/#Experience">Work</a>
            <a href="{{ site.baseurl }}/#Research">Research</a>
            <a href="{{ site.baseurl }}/#Awards">Awards</a>
            <a href="{{ site.baseurl }}/#Contact">Contact</a>
            <a href="../Resume_Mouxiao_Huang.pdf">CV</a>
            <button class="theme-toggle" type="button" id="theme-toggle" aria-label="ÂàáÊç¢‰∏ªÈ¢ò">‰∏ªÈ¢ò</button>
          </nav>
        </header>

      </div>
    </div>

    <div id="main" role="main" class="container">
      {{ content }}
    </div>

    <!-- <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {% include svg-icons.html %}
        </footer>
      </div>
    </div> -->

    {% include analytics.html %}

    <script>
      (function () {
        var btn = document.getElementById("theme-toggle");
        if (!btn) return;

        function currentTheme() {
          var t = document.documentElement.getAttribute("data-theme");
          if (t === "light" || t === "dark") return t;
          return null; // means "system"
        }

        function systemTheme() {
          try {
            return window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches
              ? "dark"
              : "light";
          } catch (e) {
            return "light";
          }
        }

        function setTheme(t) {
          if (t === null) {
            document.documentElement.removeAttribute("data-theme");
            try { localStorage.removeItem("theme"); } catch (e) {}
            return;
          }
          document.documentElement.setAttribute("data-theme", t);
          try { localStorage.setItem("theme", t); } catch (e) {}
        }

        function updateLabel() {
          var t = currentTheme();
          var effective = t || systemTheme();
          btn.textContent = effective === "dark" ? "üåô" : "‚òÄÔ∏è";
          btn.setAttribute(
            "aria-label",
            "Toggle color theme (current: " + (effective === "dark" ? "dark" : "light") + ")"
          );
          btn.title = "Click to toggle dark/light theme (saved for next visit)";
        }

        btn.addEventListener("click", function () {
          var t = currentTheme();
          var effective = t || systemTheme();
          setTheme(effective === "dark" ? "light" : "dark");
          updateLabel();
        });

        // Keep label correct if user hasn't overridden and system theme changes
        try {
          var mql = window.matchMedia("(prefers-color-scheme: dark)");
          if (mql && mql.addEventListener) {
            mql.addEventListener("change", function () {
              if (!currentTheme()) updateLabel();
            });
          } else if (mql && mql.addListener) {
            mql.addListener(function () {
              if (!currentTheme()) updateLabel();
            });
          }
        } catch (e) {}

        updateLabel();
      })();
    </script>
  </body>
</html>
